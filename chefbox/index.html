---
layout: base.njk
title: Monte sua ChefBox | Jogo 4+1
description: Escolha 4 sabores e ganhe o 5¬∫ de presente.
---

<!-- SCHEMA PRODUTO (ROB√î) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Product",
  "name": "ChefBox 4+1",
  "offers": { "@type": "Offer", "price": "149.90", "priceCurrency": "BRL" }
}
</script>

<style>
    /* DESIGN GAMIFICADO */
    .game-header {
        background: white;
        padding: 20px;
        text-align: center;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: 0 5px 20px rgba(0,0,0,0.05);
        border-bottom: 5px solid #27ae60;
    }
    
    .slots-wrapper {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 15px 0;
    }

    .slot-circle {
        width: 50px; height: 50px;
        border-radius: 50%;
        background: #eee;
        border: 2px dashed #ccc;
        display: flex; align-items: center; justify-content: center;
        font-weight: bold; color: #aaa; font-size: 1.2rem;
        transition: 0.3s;
    }

    .slot-circle.filled {
        background: #27ae60; color: white; border-style: solid; border-color: #27ae60;
        transform: scale(1.1);
    }

    .slot-gift {
        border-color: #D4AF37; color: #D4AF37;
    }
    .slot-gift.active {
        background: #D4AF37; color: white; transform: scale(1.2);
        box-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
    }

    /* CARD DE PRODUTO (Vitrine) */
    .game-grid {
        display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 15px; padding: 20px; max-width: 1000px; margin: 0 auto;
    }
    
    .game-card {
        background: white; border: 1px solid #eee; border-radius: 10px;
        overflow: hidden; cursor: pointer; transition: 0.2s;
        position: relative;
    }
    .game-card:hover { transform: translateY(-3px); border-color: #27ae60; }
    .game-card.selected { border: 3px solid #27ae60; }
    .game-card.gift-selected { border: 3px solid #D4AF37; }

    .game-img { height: 120px; background: #f9f9f9; }
    .game-img img { width: 100%; height: 100%; object-fit: cover; }
    
    .game-info { padding: 10px; text-align: center; }
    .game-title { font-size: 0.9rem; font-weight: bold; margin: 0; }
    .game-price { color: #27ae60; font-size: 0.9rem; }

    /* CHECKOUT FLUTUANTE */
    .float-checkout {
        position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
        background: #333; color: white; padding: 15px 30px;
        border-radius: 50px; display: none; align-items: center; gap: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 200;
        white-space: nowrap;
    }
    .btn-zap {
        background: #25D366; color: white; padding: 10px 20px; border-radius: 30px;
        text-decoration: none; font-weight: bold; border: none; cursor: pointer;
    }
</style>

<!-- HEADER DO JOGO -->
<div class="game-header">
    <h2 style="margin:0; font-family: 'Playfair Display', serif;">Monte sua ChefBox</h2>
    <div class="slots-wrapper">
        <div class="slot-circle" id="s1">1</div>
        <div class="slot-circle" id="s2">2</div>
        <div class="slot-circle" id="s3">3</div>
        <div class="slot-circle" id="s4">4</div>
        <div class="slot-circle slot-gift" id="s5">üéÅ</div>
    </div>
    <p id="status-msg">Escolha 4 sabores para ganhar o presente</p>
</div>

<!-- VITRINE -->
<div class="game-grid">
    <!-- COPIE E COLE ESTE BLOCO PARA CADA PRODUTO (24 VEZES) -->
    <div class="game-card" onclick="clickItem(this)" data-name="Risoto Funghi" data-price="34.80">
        <div class="game-img"><img src="/imagens/cardapio-risoto-cremoso-funghi-tijela-chefbrico.png"></div>
        <div class="game-info">
            <p class="game-title">Risoto Funghi</p>
            <p class="game-price">R$ 34,80</p>
        </div>
    </div>
    <!-- FIM DO BLOCO -->
    
    <!-- Exemplo 2 -->
    <div class="game-card" onclick="clickItem(this)" data-name="Sopa Detox" data-price="29.60">
        <div class="game-img"><img src="/imagens/sopinha-detox-chefbrico.png"></div>
        <div class="game-info">
            <p class="game-title">Sopa Detox</p>
            <p class="game-price">R$ 29,60</p>
        </div>
    </div>
</div>

<!-- CHECKOUT -->
<div class="float-checkout" id="checkout-bar">
    <div>Total: <strong id="total-val">R$ 0,00</strong></div>
    <button class="btn-zap" onclick="sendZap()">PEDIR NO WHATSAPP</button>
</div>

<script>
    let cart = [];
    let gift = null;
    const MAX = 4;

    function clickItem(el) {
        let name = el.getAttribute('data-name');
        let price = parseFloat(el.getAttribute('data-price'));

        // MODO COMPRA
        if (cart.length < MAX) {
            cart.push({name, price});
            el.classList.add('selected');
            updateUI();
        } 
        // MODO PRESENTE
        else if (!gift) {
            gift = {name, price};
            el.classList.add('gift-selected');
            updateUI();
        }
    }

    function updateUI() {
        // Atualiza Bolinhas
        for(let i=0; i<MAX; i++) {
            let s = document.getElementById('s'+(i+1));
            if(cart[i]) s.classList.add('filled');
        }
        if(gift) document.getElementById('s5').classList.add('active');

        // Atualiza Status
        let msg = document.getElementById('status-msg');
        if(cart.length < MAX) msg.innerText = `Faltam ${MAX - cart.length} itens`;
        else if (!gift) msg.innerText = "AGORA ESCOLHA SEU PRESENTE! üéÅ";
        else {
            msg.innerText = "Caixa Completa!";
            document.getElementById('checkout-bar').style.display = 'flex';
            calcTotal();
        }
    }

    function calcTotal() {
        let total = cart.reduce((sum, i) => sum + i.price, 0);
        document.getElementById('total-val').innerText = total.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'});
    }

    function sendZap() {
        let itens = cart.map(i => `‚Ä¢ ${i.name}`).join('\n');
        let texto = `Ol√°! Montei minha ChefBox:\n${itens}\n\nüéÅ PRESENTE: ${gift.name}\n\nAguardo o Pix!`;
        window.location.href = `https://wa.me/5561996659880?text=${encodeURIComponent(texto)}`;
    }
</script>
