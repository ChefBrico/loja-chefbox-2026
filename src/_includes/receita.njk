---
layout: base.njk
---

<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": ["Product", "Recipe"],
  "name": "{{ title }}",
  "description": "{{ description }}",
  "sku": "{{ sku }}",
  "image": "https://gourmetpratico.com.br{{ image }}",
  "offers": {
    "@type": "Offer",
    "price": "{{ price }}",
    "priceCurrency": "BRL",
    "availability": "https://schema.org/InStock"
  }
}
</script>

<style>
  /* --- ESTILOS DE ESTRUTURA --- */
  .receita-header { text-align: center; max-width: 800px; margin: 40px auto; }
  .receita-title { color: #014039; font-size: 2.2rem; font-family: 'Merriweather', serif; margin-bottom: 10px; }
  .hero-image-container { max-width: 900px; margin: 0 auto 40px; border-radius: 15px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
  .hero-image-container img { width: 100%; height: auto; display: block; }
  .conteudo-leitura { max-width: 740px; margin: 0 auto; line-height: 1.7; color: #333; font-size: 1.05rem; }
  
  /* --- VITRINE PERSUASIVA: POSICIONAMENTO E TAMANHO (+10%) --- */
  .vitrine-persuasao {
    display: flex;
    gap: 15px;
    margin: 25px auto; /* Respiro equilibrado */
    justify-content: center;
    max-width: 530px; /* Ampliado em 10% para melhor visualiza√ß√£o */
  }
  .mini-card {
    flex: 1;
    max-width: 220px; /* Tamanho ajustado para Food Porn ideal */
    text-align: center;
  }
  .mini-card img {
    width: 100%;
    height: auto;
    border-radius: 12px;
    border: 1px solid #eee;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  }
  .mini-card span {
    display: block;
    margin-top: 8px;
    font-size: 0.7rem;
    font-weight: 800;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .pilar-box { background: #fdfbf7; border: 1px dashed #014039; border-radius: 15px; padding: 25px; margin-bottom: 40px; }
  .cta-box { background: #fdfbf7; border: 1px solid #e0e0e0; border-radius: 12px; padding: 20px 30px; margin: 60px auto; display: flex; align-items: center; gap: 20px; }
  .btn-comprar-agora { background: #F2811D; color: white; padding: 12px 25px; border-radius: 30px; font-weight: bold; text-decoration: none; border: none; cursor: pointer; }
</style>

<article>
    <header class="receita-header">
        <h1 class="receita-title">{{ title }}</h1>
        <p style="font-size: 0.85rem; color: #999;">Por <strong>{{ author_name or meta.author.name }}</strong></p>
    </header>

    <div class="hero-image-container">
        <img src="{{ image }}" alt="Prato Pronto: {{ title }}">
    </div>

    <div class="conteudo-leitura" id="area-leitura">
        <section class="pilar-box">
            <h3 style="color: #014039; margin-top: 0; font-family: 'Merriweather', serif;">‚ú® M√©todo Gourmet Pr√°tico</h3>
            <div style="font-size: 0.95rem; line-height: 1.6;">
                <p><strong>1. Despensa Inteligente:</strong> Validade de 1 ano sem refrigera√ß√£o.</p>
                <p><strong>2. Panela √önica:</strong> Jantar saud√°vel pronto em 18 minutos.</p>
                <p><strong>3. Cozinha Criativa:</strong> Sua base gourmet para o toque final.</p>
            </div>
        </section>

        {% if image_package and image_detail %}
        <div id="vitrine-dinamica" style="display: none;">
            <div class="vitrine-persuasao">
                <div class="mini-card">
                    <img src="{{ image_package }}" alt="Embalagem artesanal {{ title }}">
                    <span>üì¶ O Pacote</span>
                </div>
                <div class="mini-card">
                    <img src="{{ image_detail }}" alt="Ingredientes desidratados {{ title }}">
                    <span>üîç Detalhe</span>
                </div>
            </div>
        </div>
        {% endif %}

        {{ content | safe }}

        <div class="cta-box">
            <div class="cta-content">
                <h3 style="margin:0; color: #014039;">Desejou?</h3>
                <p style="margin:5px 0; font-size: 0.9rem;">Adicione √† sua <strong>ChefBox</strong> agora.</p>
            </div>
            <button onclick="addToGame('{{ title }}', {{ price }}, '{{ image }}', '{{ sku }}', '{{ page.url }}')" class="btn-comprar-agora">
                + ADICIONAR (R$ {{ price }})
            </button>
        </div>
    </div>
</article>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const vitrine = document.getElementById('vitrine-dinamica');
        const areaLeitura = document.getElementById('area-leitura');
        
        if (vitrine && areaLeitura) {
            // Busca todos os t√≠tulos H2 da p√°gina
            const titulos = areaLeitura.querySelectorAll('h2');
            let alvo = null;

            titulos.forEach(h2 => {
                // Se encontrar o texto "O que vem no Pacote", define como alvo
                if (h2.innerText.includes("O que vem no Pacote")) {
                    alvo = h2;
                }
            });

            if (alvo) {
                // Move a vitrine para exatamente ANTES do t√≠tulo encontrado
                vitrine.style.display = 'block';
                alvo.parentNode.insertBefore(vitrine, alvo);
            } else {
                // Caso n√£o encontre o t√≠tulo, mostra no local padr√£o
                vitrine.style.display = 'block';
            }
        }
    });
</script>
