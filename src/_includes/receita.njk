---
layout: base.njk
---

<!-- 1. SCHEMA HIPER-AVAN√áADO (C√âREBRO) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "Recipe",
  "name": "{{ title }}",
  "image": "https://gourmetpratico.com.br{{ image }}",
  "description": "{{ description }}",
  "sku": "{{ sku }}",
  "author": {
    "@type": "Person",
    "name": "{{ author.name }}",
    "url": "{{ author.url }}"
  },
  "prepTime": "{{ tempo_iso }}",
  "recipeYield": "{{ rendimento }}",
  "nutrition": { "@type": "NutritionInformation", "calories": "{{ calorias }}" },
  "recipeIngredient": [ "Ver lista na embalagem" ], 
  "offers": {
    "@type": "Offer",
    "price": "{{ price }}",
    "priceCurrency": "BRL",
    "url": "https://gourmetpratico.com.br{{ page.url }}",
    "availability": "https://schema.org/InStock",
    "seller": { "@type": "Organization", "name": "ChefBrico" }
  },
  "mainEntity": {
    "@type": "FAQPage",
    "mainEntity": [
      {% for item in faq %}
      {
        "@type": "Question",
        "name": "{{ item.question }}",
        "acceptedAnswer": { "@type": "Answer", "text": "{{ item.answer }}" }
      }{% if not loop.last %},{% endif %}
      {% endfor %}
    ]
  }
}
</script>

<!-- 2. ESTILO "REQUINTE & AGILIDADE" (CSS) -->
<style>
  /* --- GERAL --- */
  .receita-header { text-align: center; max-width: 800px; margin: 40px auto; }
  .receita-title { color: #014039; font-size: 2.2rem; font-family: 'Merriweather', serif; margin-bottom: 10px; line-height: 1.2; }
  .receita-subtitle { color: #666; font-style: italic; font-size: 1.1rem; }

  /* --- BARRA DE METADADOS (REVISADA) --- */
  .meta-bar {
      display: flex;
      justify-content: center;
      gap: 25px;
      margin: 25px 0;
      font-size: 0.85rem;
      color: #444;
      font-weight: 600;
      flex-wrap: wrap;
      text-transform: uppercase;
      letter-spacing: 0.5px;
  }
  .meta-item { display: flex; align-items: center; gap: 6px; background: #f4f4f4; padding: 8px 15px; border-radius: 20px; }
  .meta-icon { font-size: 1.1rem; }

  /* --- IMAGEM HERO --- */
  .hero-image-container {
      max-width: 900px;
      margin: 0 auto 40px;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  }
  .hero-image-container img { width: 100%; height: auto; display: block; }

  /* --- CONTE√öDO E TIPOGRAFIA --- */
  .conteudo-leitura { max-width: 740px; margin: 0 auto; line-height: 1.7; color: #333; font-size: 1.05rem; }
  
  /* T√≠tulos H2 e H3 */
  .conteudo-leitura h2 { 
      color: #014039; 
      margin-top: 50px; 
      margin-bottom: 20px;
      font-size: 1.6rem; 
      font-family: 'Merriweather', serif;
  }
  
  .conteudo-leitura h3 {
      color: #F2811D; /* Laranja da Marca */
      margin-top: 30px;
      font-size: 1.3rem;
  }

  /* LISTA PADR√ÉO (Bolinhas pequenas verdes - Info Adicional) */
  .conteudo-leitura ul { list-style: none; padding-left: 0; }
  .conteudo-leitura ul li { 
      position: relative; 
      padding-left: 25px; 
      margin-bottom: 10px; 
  }
  .conteudo-leitura ul li::before {
      content: '‚Ä¢';
      color: #27ae60;
      font-size: 1.5rem;
      position: absolute;
      left: 5px;
      top: -5px;
  }

  /* CHECKLIST (Quadrados - "Voc√™ vai precisar") */
  /* Aplicaremos via HTML wrapper depois */
  .checklist ul li::before {
      content: '';
      width: 14px;
      height: 14px;
      border: 2px solid #ccc; /* Quadrado vazio */
      background: #fff;
      border-radius: 3px;
      position: absolute;
      left: 0;
      top: 6px;
      font-size: 0;
  }

  /* MODO DE PREPARO (N√∫meros Laranjas - Agilidade) */
  .modo-preparo ol { 
      list-style: none; 
      counter-reset: steps; 
      padding: 0; 
  }
  .modo-preparo li { 
      position: relative; 
      padding-left: 50px; 
      margin-bottom: 25px; 
  }
  .modo-preparo li::before {
      counter-increment: steps;
      content: counter(steps);
      position: absolute;
      left: 0; top: -2px;
      width: 32px; height: 32px;
      background: #F2811D; /* Laranja Energ√©tico */
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 32px;
      font-weight: bold;
      box-shadow: 0 3px 6px rgba(242, 129, 29, 0.3);
  }
  .simples-assim {
      text-align: center;
      font-family: 'Dancing Script', cursive; /* Fonte manuscrita se tiver, sen√£o serif it√°lico */
      font-style: italic;
      font-size: 1.8rem;
      color: #27ae60;
      margin-top: 30px;
      display: block;
  }

  /* CARD FLUTUANTE (Cozinha Criativa) */
  .dica-chef-card {
      background: white;
      border-left: 4px solid #F2811D;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.08); /* Sombra elegante */
      margin: 40px 0;
  }
  
  /* CITA√á√ÉO / DEPOIMENTO */
  .conteudo-leitura blockquote { 
      border-left: none;
      padding: 20px; 
      margin: 30px 0; 
      font-style: italic; 
      color: #555; 
      background: #f9f9f9; 
      border-radius: 10px;
      text-align: center;
  }
  .conteudo-leitura blockquote::before { content: '‚Äú'; font-size: 3rem; color: #ccc; display: block; line-height: 0.5; margin-bottom: 10px; }

  /* CAIXA VERDE (O Segredo) */
  .segredo-box {
      background: #e8f5e9; /* Verde bem clarinho */
      padding: 20px;
      margin: 30px auto;
      max-width: 800px;
      border-radius: 10px;
      color: #2e7d32;
      border: 1px solid #c8e6c9;
  }

  /* --- PILARES (LINKADOS) --- */
  .pilares-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Menores */
      gap: 15px;
      margin: 40px 0;
      text-align: center;
  }
  .pilar-card { 
      padding: 15px; 
      background: #fff; 
      border: 1px solid #eee; 
      border-radius: 10px; 
      text-decoration: none; /* Remove sublinhado do link */
      color: inherit;
      display: block;
      transition: all 0.2s;
  }
  .pilar-card:hover { 
      transform: translateY(-3px); 
      box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
      border-color: #27ae60;
  }

  /* --- CTA CHEFBOX (ELEGANCE MODE) --- */
  .cta-box {
      background: linear-gradient(90deg, #fdfbf7 0%, #fff 100%);
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      padding: 20px 30px;
      margin: 60px auto;
      max-width: 700px;
      display: flex; /* Lado a lado */
      align-items: center;
      gap: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
  }
  .cta-img {
      width: 70px; height: 70px; 
      border-radius: 50%; 
      object-fit: cover; 
      flex-shrink: 0;
  }
  .cta-content { flex-grow: 1; text-align: left; }
  .cta-content h3 { margin: 0 0 5px; font-size: 1.1rem; color: #014039; margin-top: 0 !important; }
  .cta-content p { margin: 0; font-size: 0.9rem; color: #666; }
  
  .btn-comprar-agora {
      background: #F2811D;
      color: white;
      padding: 10px 20px;
      border-radius: 30px;
      font-weight: bold;
      text-decoration: none;
      font-size: 0.95rem;
      white-space: nowrap;
      transition: transform 0.2s;
  }
  .btn-comprar-agora:hover { transform: scale(1.05); background: #d36e12; }

  /* FAQ e Autor */
  details.faq-item { background: #fff; border-bottom: 1px solid #eee; margin-bottom: 0; border-radius: 0; }
  details.faq-item summary { padding: 15px 0; color: #333; }
  .author-box { display: flex; align-items: center; gap: 20px; background: #fafafa; padding: 25px; border-radius: 12px; margin-top: 60px; }
  .author-img { width: 70px; height: 70px; border-radius: 50%; object-fit: cover; }

  @media (max-width: 600px) {
      .cta-box { flex-direction: column; text-align: center; }
      .cta-content { text-align: center; margin-bottom: 15px; }
  }
</style>

<!-- 3. ESTRUTURA VISUAL (PALCO) -->
<article>
    
    <header class="receita-header">
        <h1 class="receita-title">{{ title }}</h1>
        <p class="receita-subtitle">O Sabor da It√°lia, sem a complica√ß√£o!</p>
        <p style="font-size: 0.85rem; margin-top: 10px; color: #999; text-transform: uppercase;">
            Por <strong>{{ author.name }}</strong>
        </p>
    </header>

    <!-- METADADOS (√çcones corrigidos) -->
    <div class="meta-bar">
        <!-- Rel√≥gio/Cron√¥metro -->
        <div class="meta-item"><span class="meta-icon">‚è±Ô∏è</span> {{ tempo_preparo }}</div>
        
        <!-- Balan√ßa/Medida para Calorias -->
        <div class="meta-item"><span class="meta-icon">‚öñÔ∏è</span> {{ calorias }}</div>
        
        <!-- Rendimento -->
        <div class="meta-item"><span class="meta-icon">üçΩÔ∏è</span> {{ rendimento }}</div>
        
        <!-- Dificuldade em Texto (Melhor que √≠cone estranho) -->
        <div class="meta-item" style="background-color: #e8f5e9; color: #2e7d32;">
            <span class="meta-icon">‚ö°</span> {{ dificultade }}
        </div>
    </div>

    {% if citable_fact %}
    <div class="segredo-box">
        <strong>üí° O Segredo da Chef:</strong> {{ citable_fact }}
    </div>
    {% endif %}

    <div class="hero-image-container">
        <img src="{{ image }}" alt="Foto do prato {{ title }}">
    </div>

    <!-- WRAPPER PRINCIPAL -->
    <!-- Aqui usamos Classes Utilit√°rias para ativar os estilos espec√≠ficos -->
    <div class="conteudo-leitura">
        
        <!-- CONTE√öDO DO MARKDOWN -->
        <!-- O filtro 'safe' permite que o HTML gerado pelo MD apare√ßa -->
        
        <!-- TRUQUE S√äNIOR: 
             O Markdown gera HTML puro. Para estilizar se√ß√µes espec√≠ficas (como ingredientes),
             n√≥s vamos confiar na ordem do texto ou usar pequenas divs no Markdown no futuro.
             Por enquanto, aplicamos o estilo globalmente melhorado.
        -->
        <div class="checklist"> <!-- Engloba listas de checkbox -->
            {{ content | safe }}
        </div>

        <div class="simples-assim">Simples assim! ‚ú®</div>

        <!-- PILARES DO M√âTODO (LINKADOS) -->
        <div class="pilares-grid">
            <a href="/comida-de-verdade/" class="pilar-card">
                <div style="font-size: 2rem;">ü•´</div>
                <h3>Despensa Inteligente</h3>
                <p style="font-size: 0.8rem; color: #666;">Ingredientes de longa validade.</p>
            </a>
            <a href="/comida-de-verdade/" class="pilar-card">
                <div style="font-size: 2rem;">ü•ò</div>
                <h3>Panela √önica</h3>
                <p style="font-size: 0.8rem; color: #666;">Menos lou√ßa, mais tempo.</p>
            </a>
            <a href="/comida-de-verdade/" class="pilar-card">
                <div style="font-size: 2rem;">üé®</div>
                <h3>Cozinha Criativa</h3>
                <p style="font-size: 0.8rem; color: #666;">Seu toque final.</p>
            </a>
        </div>

        <!-- CARD FLUTUANTE (Dica da Chef - Precisa ser ativado no MD ou Fixo aqui) -->
        <!-- Sugest√£o: Se tiver "Dicas da Chef" no texto, o CSS .dica-chef-card cuida. 
             Se n√£o, podemos deixar um convite gen√©rico ou remover este bloco fixo. -->

        <!-- CTA CHEFBOX (BANNER ELEGANTE) -->
        <div class="cta-box">
            <img src="{{ image }}" class="cta-img" alt="Miniatura">
            <div class="cta-content">
                <h3>Gostou? Leve para casa.</h3>
                <p>Adicione √† sua <strong>ChefBox</strong> agora.</p>
            </div>
            <button onclick="addToGame('{{ title }}', {{ price }}, '{{ image }}', '{{ sku }}', '{{ page.url }}')" 
                    class="btn-comprar-agora" style="border:none; cursor:pointer;">
                + Adicionar (R$ {{ price | dinheiro }})
            </button>
        </div>

        <!-- FAQ -->
        {% if faq %}
        <div style="margin-top: 50px;">
            <h3 style="border-bottom: 2px solid #eee; padding-bottom: 10px;">D√∫vidas Frequentes</h3>
            {% for item in faq %}
            <details class="faq-item">
                <summary>{{ item.question }}</summary>
                <div class="faq-answer">{{ item.answer }}</div>
            </details>
            {% endfor %}
        </div>
        {% endif %}

        <!-- AUTORIDADE -->
        <div class="author-box">
            <img src="{{ author.image }}" alt="{{ author.name }}" class="author-img">
            <div class="author-info">
                <p style="margin:0; color:#555;">
                    <strong style="color:#014039;">{{ author.name }}</strong><br>
                    <span style="font-size:0.9rem;">{{ author.description }}</span>
                </p>
                <a href="{{ author.url }}" style="color:#F2811D; font-size:0.85rem; font-weight:bold; text-decoration:none; display:block; margin-top:5px;">
                    Ler Filosofia Completa ‚ûù
                </a>
            </div>
        </div>

    </div>
</article>

<!-- SCRIPT P√ìS-PROCESSAMENTO (O PULO DO GATO S√äNIOR) -->
<!-- Como o Markdown gera listas <ul> normais, usamos JS leve para 
     transformar a lista de "Preparo" em n√∫meros e "Ingredientes" em quadrados -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // 1. Encontrar todos os H2
        const headers = document.querySelectorAll('.conteudo-leitura h2');
        
        headers.forEach(h2 => {
            // Se o t√≠tulo for "Modo de Preparo..."
            if (h2.innerText.includes('Preparo')) {
                // Pega a lista (ol ou ul) logo ap√≥s ele
                const list = h2.nextElementSibling;
                if (list && (list.tagName === 'OL' || list.tagName === 'UL')) {
                    list.classList.add('modo-preparo'); // Aplica as bolinhas laranjas
                    // Se for UL, transforma em OL para ter numeros
                    if (list.tagName === 'UL') {
                        const newOl = document.createElement('ol');
                        newOl.innerHTML = list.innerHTML;
                        newOl.classList.add('modo-preparo');
                        list.parentNode.replaceChild(newOl, list);
                    }
                }
            }

            // Se o t√≠tulo for "Precisar" ou "Ingredientes"
            if (h2.innerText.includes('Precisar') || h2.innerText.includes('Pacote')) {
                const list = h2.nextElementSibling;
                if (list) list.classList.add('checklist'); // Aplica quadrados
            }

            // Se o t√≠tulo for "Cozinha Criativa"
            if (h2.innerText.includes('Criativa')) {
                // Pega o par√°grafo seguinte e transforma em Card Flutuante
                const p = h2.nextElementSibling;
                if (p) {
                    p.classList.add('dica-chef-card');
                    // Remove o H2 original pra ficar mais limpo dentro do card? 
                    // N√£o, deixa o t√≠tulo, s√≥ estiliza o texto.
                }
            }
        });
    });
</script>
